(function($){var PageWidgetFullScreen=function(options){this.init(options)};PageWidgetFullScreen.prototype={_target:$(),_document:$(document).get(0),init:function(options){this._target=options._target;this.options=options;this.registerListeners()},registerListeners:function(){this._target.on("click",this.options.iconClass,$.proxy(this.toggleFullScreen,this));this._target.find(this.options.fullScreenSelector).each((i,el)=>el.addEventListener("fullscreenchange",$.proxy(this.onFullScreenChange,this)))},toggleFullScreen:function(){this.isInFullscreen?this.exitFullScreen():this.requestFullScreen()},requestFullScreen:function(){const fullscreenElement=this._target.find(this.options.fullScreenSelector).get(0);if(!fullscreenElement){return!1}
return fullscreenElement.requestFullscreen?fullscreenElement.requestFullscreen().catch(err=>alert(`Error attempting to enable full-screen mode: ${err.message} (${err.name})`)):fullscreenElement.webkitRequestFullscreen()},exitFullScreen:function(){return this._document.exitFullscreen?this._document.exitFullscreen().catch((err)=>console.error(err)):this._document.webkitRequestFullscreen()},get isInFullscreen(){return this._document.fullscreenElement||this._document.webkitFullscreenElement},onFullScreenChange:function(){this._target.trigger(`fullscreen-${this.isInFullscreen ? 'enter' : 'exit'}`)}};$.fn.pageWidgetFullScreen=function(option){var args=arguments;return this.each(function(){var data=$(this).data("PageWidgetFullScreen");var options=typeof option==="object"?option:{};if(data===undefined){var defaultOptions=$.extend(!0,{},$.fn.pageWidgetFullScreen.defaults);options._target=$(this);$(this).data("PageWidgetFullScreen",(data=new PageWidgetFullScreen($.extend(defaultOptions,options))))}
if(typeof option==="string"){data[option].apply(data,Array.prototype.slice.call(args,1))}})};$.fn.pageWidgetFullScreen.defaults={"iconClass":".fs-toggle__icon","fullScreenSelector":"iframe"}})(jQuery)